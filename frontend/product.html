<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Product</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="images/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/fontawesome.min.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/responsive.css" />
    <link rel="stylesheet" href="css/slick.css" />
    <script>
    </script>

</head>

<body>
    <header>
        <div class="mobile-menu">
            <div class="circle" id="navbar"><i class="fa fa-bars" aria-hidden="true"></i></div>


            <div class="nveMenu text-left">
                <div class="mobile-cross close-btn-nav" id="navbar"><i class="fas fa-times" aria-hidden="true"></i>
                </div>
                <div>
                    <a href="index.html"><img src="images\logo.png" class="img-fluid"></a>
                </div>
                <ul class="navlinks p-0 mt-4">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="product.html">Shop</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact Us</a></li>

                    <img src="images/bucket.png" alt="">
                    <sup>2</sup>
                    </li>
                    <li>
                        <img src="images/heart.png" alt="">
                        <sup>2</sup>
                    </li>
                    <li><a href="#">Login </a></li>
                </ul>
            </div>
            <div class="overlay"></div>
        </div>
        <div class="main-nav inner-main-nav">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="logo">
                            <a href="index.html"><img src="images/logo.png" alt=""></a>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="product.html">Shop</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-4">
                        <ul>
                            <li>
                                <div id="google_translate_element">

                                </div>
                                <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
                            </li>
                            <li>
                                <a href="cart.html">
                                    <img src="images/bucket.png" alt="">
                                    <sup>2</sup>
                                </a>
                            </li>
                            <li>
                                <img src="images/heart.png" alt="">
                                <sup>2</sup>
                            </li>
                            <li class="user-login">
                                <a href="signin.html"><img src="images/user-login.png" /> </a>
                            </li>
                        </ul>


                    </div>
                </div>
            </div>
        </div>
    </header>



    <section class="bredcrump-banner">
        <div class="container">
            <div class="breadcrump">
                <ul>
                    <li>
                        <a href="product.html"><img src="images/home-icon.png" alt=""></a>
                    </li>
                    <li><span>/</span>
                        <a href="#!"></a>Shop</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="product-main-slider">
        <div class="container">
            <div class="owl-carousel owl-theme product-main">
                <div class="item">
                    <img src="images/product-page-slider.png" alt="">
                    <div class="product-main-cap">
                        <h4>Always A Best Choice</h4>
                        <h3>Every Moment Has It’s Flavor...</h3>
                    </div>
                </div>
                <div class="item">
                    <img src="images/product-page-slider.png" alt="">
                    <div class="product-main-cap">
                        <h4>Always A Best Choice</h4>
                        <h3>Every Moment Has It’s Flavor...</h3>
                    </div>
                </div>
                <div class="item">
                    <img src="images/product-page-slider.png" alt="">
                    <div class="product-main-cap">
                        <h4>Always A Best Choice</h4>
                        <h3>Every Moment Has It’s Flavor...</h3>
                    </div>
                </div>
                <div class="item">
                    <img src="images/product-page-slider.png" alt="">
                    <div class="product-main-cap">
                        <h4>Always A Best Choice</h4>
                        <h3>Every Moment Has It’s Flavor...</h3>
                    </div>
                </div>
                <div class="item">
                    <img src="images/product-page-slider.png" alt="">
                    <div class="product-main-cap">
                        <h4>Always A Best Choice</h4>
                        <h3>Every Moment Has It’s Flavor...</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="product-sec">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-md-3 col-12">
                    <div class="all-product">
                        <h4>All Products</h4>
                        <ul id="category">
                            <!-- <li><a href="">Spare Parts (256)</a><i class="fa-solid fa-angle-right"></i></li>
                            <li><a href="">Green Coffee (0)</a></li>
                            <li><a href="">Machines & Equipments (0)</a><i class="fa-solid fa-angle-right"></i></li> -->
                        </ul>
                    </div>
                </div>
                <div class="col-md-9 col-md-9 col-12">
                    <div class="product-blk">
                        <div class="row" id="productsContainer">
                            <div class="product-blk-form">
                                <form>
                                    <input type="text" name="" placeholder="Search.....">
                                    <button><i class="fa fa-search" aria-hidden="true"></i></button>
                                    <a href=""><img src="./images/product-bar.svg"></a>
                                    <a href=""><img src="./images/product-bar1.svg"></a>
                                    <select style="background: var(--button-backrounds, #EFEFEF);">
                                        <option>Public PriceList</option>
                                        <option>Public PriceList</option>
                                        <option>Public PriceList</option>
                                    </select>
                                    <select style="background: var(--secondary-color, #333030);color: #fff;">
                                        <option>Sort By</option>
                                        <option>Sort By</option>
                                        <option>Sort By</option>
                                        <option>Sort By</option>
                                    </select>
                                </form>

                            </div>
                            <!-- <div class="col-lg-4 col-md-6 col-12">
                                <div class="product-small">
                                    <div class="product-small-img">
                                        <img src="images/product-adola.png">
                                        <div class="product-rating">
                                            4.8 <i class="fa fa-star" aria-hidden="true"></i>
                                        </div>
                                        <div class="product-like">
                                            <i class="fa fa-heart" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                    <div class="product-small-txt">
                                        <h4><a href="">Adola– Ethiopia Coffee <span>250g</span></a> </h4>
                                        <h3>112.00 SR <span>VAT included</span></h3>
                                        <p>Lorem ipsum dolor sit amet consectetur. Tortor aliquam nibh. amet consectetur
                                            amet consectetur. Tortor ...</p>
                                        <a href="product-detail.html" class="product-cart-btn"><i
                                                class="fa fa-shopping-cart" aria-hidden="true"></i></a>
                                    </div>

                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="pagination-sec">
        <div class="pagination">
            <a href="#">&laquo;</a>
            <a class="active" href="#">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <a href="#">5</a>
            <a href="#">6</a>
            <a href="#">&raquo;</a>
        </div>
    </section>


    <footer class="contact-detail">
        <div class="copyright">
            <p>© 2023 AQAHI. All rights reserved. </p>
        </div>
    </footer>



    <!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script> -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/popper-min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/all.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script>
        $('.slider-for').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            loop: true,
            fade: true,
            asNavFor: '.slider-nav'
        });
        $('.slider-nav').slick({
            slidesToShow: 3,
            slidesToScroll: 1,
            asNavFor: '.slider-for',
            dots: false,
            loop: true,
            arrows: false,
            centerMode: false,
            focusOnSelect: true
        });
    </script>
    <script>
        $('.equipment').owlCarousel({
            loop: true,
            margin: 10,
            nav: true,
            dots: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 4
                }
            }
        });
        $('.beverage').owlCarousel({
            loop: true,
            margin: 10,
            nav: false,
            dots: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 5
                }
            }
        });
    </script>
    <script>
        $(document).ready(function() {
            var quantitiy = 0;
            $('.quantity-right-plus').click(function(e) {

                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                var quantity = parseInt($('#quantity').val());

                // If is not undefined

                $('#quantity').val(quantity + 1);


                // Increment

            });

            $('.quantity-left-minus').click(function(e) {
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                var quantity = parseInt($('#quantity').val());

                // If is not undefined

                // Increment
                if (quantity > 0) {
                    $('#quantity').val(quantity - 1);
                }
            });

            setTimeout(() => {

                // alert($('.VIpgJd-ZVi9od-l4eHX-hSRGPd').parent().parent().replace('Powered by ,',''));

                $('.VIpgJd-ZVi9od-l4eHX-hSRGPd').parent().remove();


                $(".goog-te-combo option").each(function() {

                    console.log($(this).val())
                        // Add $(this).val() to your list
                });
            }, 500);
        });
    </script>
    <script>
        function getProducts(category_id = '') {
            const url = 'http://localhost/odooo/backend/odooAuth.php?catid=' + category_id;

            fetch(url)
                .then((response) => {
                    return response.json();
                })
                .then((data) => {
                    console.log(data);
                    let products = data;
                    let productsContainer = document.getElementById('productsContainer');
                    productsContainer.innerHTML = '';
                    products.forEach(function(product) {
                        console.log(product);
                        var productHTML = `
        <div class="col-lg-4 col-md-6 col-12">
            <div class="product-small">
                <div class="product-small-img">
                    <img src="data:image/png;base64,${product.image}" >
                    <div class="product-rating">
                        ${product.rating} <i class="fa fa-star" aria-hidden="true"></i>
                    </div>
                    <div class="product-like">
                        <i class="fa fa-heart" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="product-small-txt">
                    <h4><a href="">${product.name} <span>${product.weight}</span></a> </h4>
                    <h3>${product.list_price} SR <span>VAT included</span></h3>
                    <p>${product.description}</p>
                    <a href="product-detail.html?id=${product.id}&" class="product-cart-btn"><i
                            class="fa fa-shopping-cart" aria-hidden="true"></i></a>
                </div>
            </div>
        </div>
    `;
                        console.log(productHTML);

                        productsContainer.innerHTML += productHTML;
                    });
                })
                .catch(function(error) {
                    console.log(error);
                });
        }

        const url_category = 'http://localhost/odooo/backend/api/getCategoryCount.php';

        function getCategories() {
            fetch(url_category)
                .then((response) => {
                    return response.json();
                })
                .then((data) => {

                    let categorys = data;
                    const categoryContainer = document.getElementById('category');


                    categorys.forEach(function(category) {
                        console.log(category);
                        const categoryHTML = `
    <li><a href="" data-category-id="${category.id}">${category.name} (${category.count})</a><i class="fa-solid fa-angle-right"></i></li>`;

                        categoryContainer.innerHTML += categoryHTML;
                        let categoriesList = categoryContainer.querySelectorAll('li');
                        console.log(categoriesList);
                        // categoriesList.forEach(category => {
                        //     category.addEventListener('click', ()=> {
                        //         getProducts(category.getAttribute('data-category-id'));
                        //     });
                        // })
                        categoriesList.forEach(category => {
                            category.addEventListener('click', (event) => {
                                event.preventDefault(); // Prevent the default behavior of the link
                                const categoryId = category.querySelector('a').getAttribute('data-category-id');
                                // updateURL(categoryId);
                                getProducts(categoryId);
                            });
                        });
                    });

                })
                .catch(function(error) {
                    console.log(error);
                });
        }
        // function updateURL(categoryId) {
        // const newURL = `${url_category}?catid=${categoryId}`;
        // window.history.pushState({ categoryId }, '', newURL);
        // }

        getCategories();
        getProducts();
    </script>
</body>

</html>